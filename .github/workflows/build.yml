name: Build and Dev Deploy

on:
  push:
    branches:
      - "*"
    tags-ignore:
      - 'v*'         
  pull_request:
    branches:
      - main
  workflow_dispatch:      

jobs:
  build-and-dev-deploy:
    # Call the shared workflow for Java applications
    uses: krystof-io/github-workflows/.github/workflows/java-app-build.yml@main
    with:
      # Required: Application name
      app_name: spring-boot-hello
      
      # Optional: Customize as needed (these show non-default values)
      # java_version: '21'                    # Default: '17'
      target_clusters: '["private"]'   # Default: '["app"]'
      # maven_profiles: 'prod,extra'          # Default: ''
      
    secrets: inherit
